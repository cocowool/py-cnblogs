
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="referrer" content="origin" />
<title>HP-UX培训学习笔记 - Cocowool - 博客园</title>
<meta property="og:description" content="HP-UX操作系统全称为Hewlett Packard UniX，是惠普服务器上所有的操作系统。其发源自 AT &amp; T SRV4系统，可以支持HP的PA-RISC处理器、Intel的Itani" />
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=-duj5vpGTntb85GJoM3iRI972XwWcI-j8zmqDzyfu2w1"/>
<link type="text/css" rel="stylesheet" href="/blog/customcss/43046.css?v=jIe%2bqkoe6NGEDBHSKfZFtSP%2bk3Q%3d"/>
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="/skins/Custom/bundle-Custom-mobile.css?v=D4ZG96to-4HBTPc_nukUGx4UJPJRCpcXUrj8NiiyXiU1"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/cocowool/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/cocowool/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/cocowool/wlwmanifest.xml"/>
<script src="//common.cnblogs.com/scripts/jquery-2.2.0.min.js"></script>
<script type="text/javascript">var currentBlogApp = 'cocowool', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="/bundles/blog-common.js?v=0t5BJebAFvrpW2OAhYKrwtj8nG5UE2GXuvUfBo9JUgs1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<div id="bgoverlay"></div>
<!--PageBeginHtml Block End-->

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="https://www.cnblogs.com/cocowool/"><img id="blogLogo" src="/Skins/custom/images/logo.gif" alt="返回主页" /></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="https://www.cnblogs.com/cocowool/">小狼的世界</a></h1>
<h2>不积跬步，无以至千里、不积细流，无以成江海</h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/cocowool/">首页</a></li>
<li></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/Cocowool">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="https://www.cnblogs.com/cocowool/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="https://www.cnblogs.com/cocowool/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 363&nbsp; </span>
<span id="stats_article_count">文章 - 4&nbsp; </span>
<span id="stats-comment_count">评论 - 449</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/cocowool/archive/2012/05/15/2501586.html">HP-UX培训学习笔记</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>HP-UX操作系统全称为Hewlett Packard UniX，是惠普服务器上所有的操作系统。其发源自 AT &amp; T SRV4系统，可以支持HP的PA-RISC处理器、Intel的Itanium处理器。因为PA-RISC的停产（RISC机器现在越来越没落了），今后的主流就是只支持Intel的处理器了。</p>  <p>HP-UX操作系统版本包括：11.11（11iv1）、11.23（11iv2）、11.31（11iv3）。其中11i第一次发布时间是2000年。s</p>  <p>培训中使用的环境是11.31，进入系统后，查看环境的办法：</p>  <p>查看系统：uname -a</p>  <p>查看软件版本：swlist | grep QPK</p>  <p>查看文件系统的使用情况：bdf</p>  <p><b>SMH工具</b>：</p>  <p>SMH（System Management Homepage）是一个系统管理工具，之前有一个名为SAM的工具。SMH是一个升级版本，提供了利用Web方式进行系统管理的方式。</p>  <p>SAM支持HP-UX11iV1、V2,SMH支持 HP-UX 11iv1、v2、v3。</p>  <p><a href="http://images.cnblogs.com/cnblogs_com/cocowool/201205/201205151448041415.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Image(7)" border="0" alt="Image(7)" src="https://images.cnblogs.com/cnblogs_com/cocowool/201205/201205151448055527.png" width="244" height="139" /></a></p>  <p>这两个管理工具的特点包括：提供了图形化的管理界面、可以向非Root用户提供配置管理功能、方便的帮助信息、配置灵活可扩展性强、使用标准的HP-UX命令完成所有操作（每个操作都可以看到对应的命令行指令）、整合了HP的SIM（Systems Insight Manager）、提供了Windows、Linux支持（也就是说可以用来管理Windows和Linux）。</p>  <p>SMH的启动有两种方式：autostart和start-on-boot。可以使用smhstartconfig这个命令查看当前的状态并进行启动方式的改变。autostart方式时，我们通过ip:2301端口进行访问。如果是start-on-boot，通过ip:2381进行访问。</p>  <p>SMH菜单包括：Home、Settings、Tools、Task、Log等。</p>  <p>可以说，系统中所有的操作命令都可以在SMH中来实现，这就为那些对于命令行不够熟悉的用户提供了管理系统的新途径。貌似这也是现在的一个趋势，大家都在尽力的推出专业、简单、易用的Web操作界面，降低管理的门槛。另一方面，也是让人们能够将精力更加的集中在系统资源的管理、分配上，而不必过分纠结于命令行指令。但是，很多时候，命令行还是无可替代的。</p>  <p><b>HP-UX服务器的硬件</b></p>  <p>服务器的产品序列：入门级（rx66,rx56...）、中端（rx76、rx86）、高端（Superdome）</p>  <p>服务器中的硬件包括：CPU（PA-RISC或者Itanium）、Cell boards或者MIO Controller（单元板或者）、System/Local Bus Adapter（系统/本地总线适配）、Memory Managment Processor Cards（MP管理卡）、Core I/O Cards、Interface Adapter Cards（OL*）</p>  <p>CPU：HP-UX支持两种CPU架构，一种是HP自己的PA-RISC的CPU（2008年停产，2013年终止支持）、一种是Intel的Itanium。</p>  <p>相关命令：machinfo</p>  <p>Cell Boards（单元板）、Crossbars、MIO Controllers（）：HP-UX服务器分为两种，一种是Cell-Based System，一般是中端或者高端的服务器，CPU和内存插在一个个的单元板上，一个机器有多个单元板，多个单元板可以通过Crossbar连接在一起，这样可以提供强大的计算能力和硬件的容错能力，最多可以支持128个CPU、512个内存插槽；另外一种是MIO-Based System，这种架构用在HP的低端和刀片机上，最多支持8个CPU。这个系统通过单一的Memory、I/O（MIO）控制芯片同CPU、Memory和IO设备交互，也就是和我们普通的PC服务器差不多。</p>  <p>System/Local Bus Adapter 提供了到IO扩展总线的连接，IO扩展总线可以支持一个或者多个槽位安装不同的扩展卡，HP提供了PCI、PCI-X、PCI-E三种总线类型，槽位速度达到2GB/sec。</p>  <p>MP管理卡插在PCI插槽上，提供了串口的Console接入、远程访问（Telnet、SSH、HTTPS方式）、硬件检测和日志记录功能、电源管理功能等。</p>  <p>Core I/O Cards 在不同机器上的变化比较大，主要是为服务器提供基础的连接接口，例如一个或多个SCSI接口用来连接磁盘、磁带机、DVD等，还有SAS接口连接本地磁盘，一个或多个LAN口、串口、打印机口、USB口、VGA口、Audio等。同时，大多数的机器还提供磁盘阵列控制器。</p>  <p>除了Core I/O Cards之外，服务器还提供了其他的Interface Adapter Cards可以用来连接光线卡（Fiber Channel Host Bus Adapter）、ATM、X.25 Adapter等接口，如果支持OL*技术，还可以支持硬件的热插拔。</p>  <p>相关命令：</p>  <p>olrad -q</p>  <p>硬件的外观（型号）</p>  <p><b>Disk Arrays and LUNs、SANs and Multipathing</b></p>  <p>当今的服务器，很多是将内置的磁盘做为Boot Disk，但是数据多数存放在Disk Arrays上。Disk Array 包含数十甚至数以百计、千计的磁盘。为了方便，利用一些管理软件，经常将一定数量的磁盘划分为一个LUN（Logical Units）。磁盘阵列管理软件会自动为每一个LUN分配一个独立的64位标识符WWID，管理员也可以为每个LUN分配一个比较容易记忆的LUN ID。操作系统将一个LUN看作一个磁盘设备，而不关心其到底由多少物理磁盘组成。</p>  <p>SANs（Storage Area Network）的Multipathing的原理如下图所示，这样的做法带来了很大的灵活性，同时提供了高可用（High Availability）的环境以及应对高负载的能力。下图是最简单的一种SANs网络连接，依据网络的复杂性，到达一个LUN的通路可能有2、4、8甚至更多。在HP-UX的11iV1、V2版本中，对于通路的识别还需要依赖于LVM、VxVM等软件的外部支持，在V3版本中，这一特性已经被整合到内核中。</p>  <p><a href="http://images.cnblogs.com/cnblogs_com/cocowool/201205/201205151448056017.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="Image(8)" border="0" alt="Image(8)" src="https://images.cnblogs.com/cnblogs_com/cocowool/201205/201205151448065428.png" width="189" height="244" /></a></p>  <p>分区连续体技术，包括nPar、vPar、VM、SRP（Secure Resource Partitions）。这种技术的出发点在于之前独立CPU的机器存在高峰瓶颈和利用率低估，通过加入更多的计算和内存单元，来达到资源的动态划分，一方面提高资源利用率，一方面提高高可用性。我觉得这种思路和云计算有些相似，只不过划分的物理逻辑单元不一样。</p>  <p>相关命令：</p>  <p>scsimgr：scsimgr get_attr -a wwid -H 64000/0xfa00/0x4&#160;&#160;&#160;&#160; 获取LUN信息</p>  <p><b>硬件的编址（路径）</b></p>  <p>HP-UX 11iV1、V2采用传统（Legacy）的方式来为硬件编址，在V3版本中，采用了灵活编址（Agile View）来进行编址，同时仍支持传统方式。新的编址方式增强了系统的扩展性，Max LUN从原来的2TB到2TB以上，到单个LUN的通路从最多8个到最多32个。增强了适应性，在对SAN存储硬件进行更新替换时，不需要修改服务器的配置。</p>  <p>传统（Legacy）视图</p>  <p>传统硬件编址（HBA Hardware）：Cell/SBA/LBA/device/function</p>  <p>卡的地址：cell/sba/lba/device/function.target.lan.port.</p>  <p>传统SCSI盘：卡的地指.target.lunid</p>  <p>SAN：卡的地址.domain.area.port.厂商编号.lun.lun.lun，使用的是交换机上的信息，如果端口发生变化，地址会发生变化</p>  <p>灵活视图（agile）</p>  <p>HBA Hardware Address：cell/SBA/LBA/device/function</p>  <p>SCSI Address：HBA.target.lunid。使用16进制而不是十进制，例如：1/0/0/2/0.0xa.0x0</p>  <p>FC Lunpath，卡的地址：阵列的wwpn号.oxlun，采用这种编址，连接方式仍然是多路径的，但是地址却可以唯一表示。</p>  <p>Virtual FC Lunpath（虚拟地址）：HBA.virtual bus.virtual LUN ID，例如64000/0xfa00/0xlun&#160;&#160;&#160;&#160; lun映射到阵列上这个lun的wwid号</p>  <p>相关命令：</p>  <p>ioscan -fuNC disk/fc/tape/lan </p>  <p>ioscan -m</p>  <p>ioscan -m hwpath&#160;&#160;&#160;&#160; 查看三个地之间的映射关系</p>  <p>scsimgr get_attr -a wwid -H 64000/oxfa00/ox#</p>  <p>Slot Addressing 基于物理位置的地址（中高端机器支持）</p>  <p>cabinet - bay -chassis - slot</p>  <p>相关命令：</p>  <p>olrad</p>  <p>efi硬件编址，只是在itanium引导的时候使用，地址很长，实际映射的是逻辑地址</p>  <p>如何插拔设备卡：兼容性、驱动</p>  <p><b>设备文件的管理</b></p>  <p>传统（legacy）命名的设备文件存放位置：&#160;&#160;&#160;&#160; /dev/dsk&#160;&#160;&#160;&#160; /dev/rdsk</p>  <p>持久设备（虚拟地址，不会发生变化）文件存放位置：&#160;&#160;&#160;&#160; /dev/disk&#160;&#160;&#160;&#160; /dev/rdisk</p>  <p>设备文件没有大小、设备类型（块设备、字符设备）、主号（驱动程序）和次号（内核中的地址）</p>  <p>相关命令：</p>  <p>ioscan -funC disk</p>  <p>ioscan -m dsf</p>  <p>lsdev</p>  <p>ll查看/dev下的文件</p>  <p>insf（物理设备）：添加物理设备</p>  <p>mksf：按照指定方式添加物里设备</p>  <p>mknod（逻辑设备）：设备文件路径&#160; 类型 主号 次号。主要用来生成逻辑设备文件的</p>  <p>rmsf：删除设备文件</p>  <p><b>磁盘设备的管理</b></p>  <p>磁盘的使用方式：整盘管理、逻辑卷管理LVM、VxVM</p>  <p>物理卷 pv：有lvm结构数据的disk，数据包括pvra和vgra</p>  <p>逻辑卷组 vg：一些物理pv的组合，是lvm中的最大空间池。/dev/vgname/group</p>  <p>逻辑卷 lv：磁盘上的一个逻辑空间，在逻辑上是连续的，但是物理上不一定连续。/dev/vgname/lvname&#160;&#160;&#160;&#160; /dev/vgname/rlvname</p>  <p>一个物理卷对应一个磁盘、多个磁盘组成卷组、逻辑卷对应分区（Size、VG name）</p>  <p>最大的单位是卷组。</p>  <p>物理卷：pvcreate</p>  <p>卷组：</p>  <p>逻辑卷：可以跨越磁盘，但是不能跨越卷组。默认顺序取第一可用空间（物理磁盘的加载顺序）。</p>  <p>默认Extent(Physical Extent)的大小是4MB.</p>  <p>建立连续的逻辑空间到离散的物理空间的映射。</p>  <p>对于结构数据的操作一般使用字符设备文件。</p>  <p>根盘一般有八个设备文件。</p>  <p>相关命令：</p>  <p>pvcreate：创建物理卷，后面跟字符设备文件。pvcraete [-f] /dev/rdisk/disk#</p>  <p>mknod：</p>  <p>vgcreate：创建卷组，指定卷组名。</p>  <p>lvcreate：创建逻辑卷，-n 指定名称，-L 指定大小，vgname</p>  <p>vgextend：</p>  <p><b>文件系统管理</b></p>  <p>JFS。</p>  <p>文件系统在逻辑卷中创建。逻辑卷的数据信息在磁盘顶部的VGA中。</p>  <p>文件系统的数据分为两类：结构数据（Meta Data）和用户数据。</p>  <p>结构数据的内容：</p>  <p>超级块（Super Block）：文件系统的大小、文件系统的类型、文件系统的Block映射表、到其他系统的指针等。超级块有多个，主超级块等。fsck指令。</p>  <p>iNode：ll执行后看到的信息中，除了文件名之外都存放在iNode中，另外还包括数据区的指针。</p>  <p>目录（Dir）：本身是一个特殊的iNode。/是2号iNode。访问目录时，IO次数是路径深度的两倍。但不一定都是真实的物理IO，因为有缓存等的存在。目录中存放了该目录中的文件名。保存该目录下的目录和文件的inode号。</p>  <p>相关命令：</p>  <p>newfs：newfs /dev/vg01/rdatavol，然后创建挂在点，mount命令进行挂载（可以修改fstab配置文件以在重启后继续生效）。</p>  <p>mkdir：创建挂载点</p>  <p>mount：挂载文件系统</p>  <p><b>     <br /></b></p>  <p><b>逻辑卷和文件系统的维护</b></p>  <p>性能的维护、磁盘修复、空间的维护</p>  <p> 随着使用时间的增加，文件系统中的碎片逐渐增多，可以使用fsadm进行维护。-D 参数表述对目录进行重组：1、对于小目录来说，将目录数据文件移动到inode的数据区；2、对于大目录来说，将经常访问的目录和文件移动到inode的数据区。</p>  <p>碎片整理：fsadm -eD，对目录和文件进行整理</p>  <p>磁盘修复：fsck /dev/vg01/rdatavol</p>  <p>空间的维护：卷组扩容、逻辑卷扩容、文件系统扩容、文件系统减容、逻辑卷减容、移除逻辑卷、卷组减容等。</p>  <p>相关命令：</p>  <p>bdf：查看空间使用情况</p>  <p>lvextend：扩充逻辑卷，lvextend -L size /dev/vgname/lvname</p>  <p>fsadm：fsadm -b size，只能在JFS online的系统中使用（需要单独授权），可以扩充或者缩减文件系统。如果不是，可以使用extendfs命令，需要首先卸载文件系统。</p>  <p>fsextend：</p>  <p>vgextend：扩充卷组</p>  <p>lvreduce：缩逻辑卷</p>  <p>vgreduce：缩卷组</p>  <p>lvremove：移除逻辑卷</p>  <p>vgremove：移除卷组</p>  <p>vgchange：</p>  <p>vgexport：</p>  <p>pvmove：数据转移</p>  <p><b>交换区</b></p>  <p>交换区的目的在于缓解内存压力。</p>  <p>设备交换分区（Device Swap）</p>  <p>文件交换分区（File Swap）</p>  <p>相关命令：</p>  <p>swapon：</p>  <p>swapinfo：-tm</p>  <p>swapoff：</p>  <p><b>灾难恢复</b></p>  <p>这里灾难恢复主要针对根盘发生意外损坏的情况，我们有三种方法可以在灾难发生时提供恢复机制：Boot Disk Mirroring（根盘镜像）、Dynamic Root Disk（动态根磁盘）、Ignite-UX Recovery Tools（系统恢复带）。三种方法的恢复代价依次增加，在考虑容灾方案是应当考虑配合使用。</p>  <p>Boot Disk Mirroring（根盘镜像）是指利用LVM、VxVM、阵列控制器或者SAN网络制作启动磁盘的镜像，在启动磁盘损坏时，我们仍可以通过镜像启动系统。镜像在安装系统的时候在Ignite选项中选择，主要应对非人为的磁盘损坏。无法避免人为的损坏 rm -rf /。</p>  <p>DRD（Dynamic Root Disk）提供了一组工具，可以创建一个bootable的克隆镜像，根磁盘受损后，可以使用克隆镜像，但是这种方式必须要求系统重启。这种方式是为了避免人为的造成系统损坏，例如内核的不当修改、文件误删等场景（这个时候镜像盘中的系统也会损坏）。使用DRD，可以帮我们合理的减少非机划停机时间和计划停机时间。</p>  <p>相关命令：</p>  <p>swlist DynRootDisk&#160;&#160;&#160;&#160; 查看是否安装了DRD工具包</p>  <p>drd status&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 显示DRD镜像的信息</p>  <p>drd clone&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 创建drd克隆镜像</p>  <p>drd runcmd&#160;&#160;&#160;&#160;&#160;&#160; 在DRD克隆镜像上执行系统命令</p>  <p>drd mount&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 挂载DRD克隆镜像到当前的文件系统中</p>  <p>drd umount&#160;&#160;&#160;&#160;&#160;&#160; 卸载DRD克隆镜像</p>  <p>drd active&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 将DRD镜像置为下次启动时的默认启动盘</p>  <p>drd deactive&#160;&#160;&#160;&#160;&#160; 恢复当前的启动盘为默认启动盘</p>  <p>drd rehost&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 将DRD镜像做为另外一台服务器的启动磁盘</p>  <p>drd unrehost&#160;&#160;&#160;&#160;&#160; 撤销上面的操作</p>  <p>drd命令还有一些公共的属性</p>  <p>drd mode -?</p>  <p>drd mode -x ?</p>  <p>drd mode -p&#160;&#160;&#160;&#160;&#160;&#160; 启动预览模式</p>  <p>drd mode [-x verbosity=3]</p>  <p>DRD镜像创建成功后，默认情况下没有挂载到当前系统中，我们没有办法对上面的文件进行操作。如果此时希望为镜像系统打patch，可以使用drd runcmd模式，下面是一些在drd下安全的系统操作命令：</p>  <p>swinstall&#160;&#160;&#160;&#160;&#160;&#160;&#160; 安装软件</p>  <p>swremove&#160;&#160;&#160;&#160; 卸载软件</p>  <p>swlist&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 查看软件列表</p>  <p>swmodify</p>  <p>swverify</p>  <p>swjob</p>  <p>kctune</p>  <p>update-ux</p>  <p>view</p>  <p>除此之外还有一种办法可以修改镜像上的文件，可以通过drd mount命令将镜像挂载到当前的文件系统中，然后就可以修改镜像上的文件了。命令执行后，系统会在/var/opt/drd/mnts/sysimage_001下创建挂载点，之后我们就可以使用diff或者chsum命令来对当前系统和镜像系统中的文件进行比较。</p>  <p>如果要备份用户数据和应用数据，可以使用tai、cpio、dd、dump、restore等命令。</p>  <p><b>MP（Management Processor card）卡</b></p>  <p>所有的HP服务器都提供MP卡支持，通过MP卡我们可以通过多种途径连接到远程终端。MP卡有串口和网口两种端口，支持的连接方式：物理终端、telnet、ssh、web。早期的HP服务器提供一种GSP（Guardian Service Processor）的进入方式，HP的下一代替代产品就是MP。在最新的入门级服务器上，还提供了Integrated Lights Out Management Processor(iLo 2 Mp).</p>  <p>co：console，系统控制台（单用户管理、忘记了root用户密码、管理系统的引导）</p>  <p>vfp：查看背板闪灯</p>  <p>cl：查看console的日志</p>  <p>cm：MP的管理命令</p>  <p>&#160;&#160;&#160;&#160; 网络管理：</p>  <p>&#160;&#160;&#160;&#160; 账户管理：uc</p>  <p>&#160;&#160;&#160;&#160; 电源管理：</p>  <p><b>系统启动</b></p>  <p>有些情况下需要进入到单用户模式。</p>  <p>引导相关的组件：固件（EFI boot 马nager，NVRAM）、引导盘（引导区的内核vmunix和auto文件）</p>  <p>Itanium有三个字盘：第一个放引导信息（FAT32）、第二个是vg00、第三个是诊断分区（FAT32）</p>  <p>引导过程：自检、EFI boot manager 读取引导路径、调用系统引导区的内核加载器HPUX、读取auto文件决定加载的内核以及模式、OS启动。</p>  <p>内核的加载模式：</p>  <p>boot -is，单用户模式</p>  <p>boot -lq，</p>  <p>boot -tm，</p>  <p><b>服务的启动</b></p>  <p>系统启动后，使用init完成系统的初试化，其中服务的启动由rc完成。</p>  <p>1、系统通过/sbin/rc*.d决定不同运行级别启动的服务。</p>  <p>2、系统通过/sbin/rc*.d/文件夹下的文件名决定启动的顺序。文件的命名规范：S##Service、K##Service。顺序号越小启动顺序越高，关闭时，应当先关闭最后启动的服务。通过使用一个固定数值减去启动顺序的方式来决定。</p>  <p>3、/sbin/init.d下实际存储所有的启动脚本，/sbin/rc*.d中只是建立一些软连接。启动脚本启动时，读取/etc/rc.config.d下的启动控制变量，来决定是否启动服务。脚本具有四个选项：start_msg、stop_msg、start、stop。</p>  <p><b>内核管理</b></p>  <p>内核中包含了驱动和参数。可以有不止一个内核，内核以子目录的形式存在。</p>  <p>相关命令：</p>  <p>kconfig：将内核作为一个整体进行管理</p>  <p>kcmodule：调整内核中的模块</p>  <p>kctune：调整内核中的参数</p>  <p>内核失败时的处理办法。</p>  <p>1、看内核日志：/var/adm/kc.log，或者kclog命令。</p>  <p>2、根据情况选择不同的解决方案。</p>  <p><b>网络的管理</b></p>  <p>网络的连通性、网络的服务。</p>  <p>相关命令：</p>  <p>三层</p>  <p>ifconfig：如果需要永久生效，修改/etc/rc.config.d/netconf</p>  <p>route：管理系统路由，如果需要永久生效，配置文件同上，启动脚本是/sbin/init.d/net</p>  <p>hostname：修改主机名，配置文件/etc/rc.config.d/netconf，启动脚本是/sbin/init.d/hostname</p>  <p>/etc/hosts，本地的主机名解析文件</p>  <p>/etc/resolv.conf，DNS服务器的地址</p>  <p>故障定位常用命令：</p>  <p>lanscan</p>  <p>lanadmin</p>  <p>linkloop</p>  <p>arp</p>  <p>ping</p>  <p>traceroute</p>  <p>nslookup</p>  <p>dig</p>  <p>nsquery</p>  <p>nwmgr</p>  <p>参考资料：</p>  <p>1、<a href="http://www.junipercorp.com.cn/">www.junipercorp.com.cn</a></p>  <p>2、<a href="http://baike.baidu.com/view/58963.htm">百度百科 HP-UX</a></p>  <p>3、<a href="http://baike.baidu.com/view/1102790.htm">百度百科 Superblock</a></p>  <p>4、<a href="http://en.wikipedia.org/wiki/File_system">Wiki File System</a></p>  <p>5、<a href="http://blog.itpub.net/post/40024/488870">HP-UX常用命令</a></p>  <p>6、<a href="http://baike.baidu.com/view/413760.htm">百度百科 Itanium</a></p>  <p>7、<a href="http://wenku.baidu.com/view/ba0fe41fa300a6c30c229f6e.html">HP-UX LVM卷组学习笔记</a></p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2012-05-15 14:48</span> <a href='https://www.cnblogs.com/cocowool/'>Cocowool</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=2501586" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(2501586);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=43046,cb_entryId=2501586,cb_blogApp=currentBlogApp,cb_blogUserGuid='6151420b-63cf-dd11-9e4d-001cf0cd104b',cb_entryCreatedDate='2012/5/15 14:48:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<div id='cnblogs_c1' class='c_ad_block'></div>
<div id='under_post_news'></div>
<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>

<script>
  googletag.cmd.push(function() {
    googletag.defineSlot('/1090369/C2', [468, 60], 'div-gpt-ad-1539008685004-0').addService(googletag.pubads());
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
  });
</script>
<div id='cnblogs_c2' class='c_ad_block'>
    <div id='div-gpt-ad-1539008685004-0' style='height:60px; width:468px;'>
    <script>
    if (new Date() >= new Date(2018, 9, 13)) {
        googletag.cmd.push(function() { googletag.display('div-gpt-ad-1539008685004-0'); });
    }
    </script>
    </div>
</div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2018 Cocowool
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<!--PageEndHtml Block Begin-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?433c388afd6e0af1d67cfe808874c659";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<!--PageEndHtml Block End-->
</body>
</html>
